\documentclass[openany,11pt,vi,oneside]{mitthesis}
\usepackage{lmodern}
\usepackage{geometry}
\usepackage{cmap}
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{upgreek}
\usepackage{bm}
\usepackage{enumitem}
\usepackage{booktabs}
\usepackage{tabu}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{float}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{rotating}
\usepackage{xcolor}
\usepackage{tikz}
\usepackage{calc}
\usepackage{listings}
\usepackage{catchfile}
\usepackage{xstring}
\usepackage[export]{adjustbox}
\usepackage[hang,flushmargin]{footmisc}
\usepackage[colorlinks,
            pdfusetitle]%
            {hyperref}
\usepackage[backend=bibtex,
            style=numeric,
            maxcitenames=2,
            sorting=none,
            url=true,
            isbn=false,
            doi=true,
            eprint=false]%
            {biblatex}
\hypersetup{citecolor={purple},linkcolor={blue}}
\usetikzlibrary{shapes,arrows.meta,calc}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% resources
\bibliography{library.bib}
\graphicspath{{figs/}{figs/tikz/}{figs/tikz/algorithm/}{figs/ystd/}{figs/toy/}{figs/seg/}}
\makeatletter\newcommand{\setmaxcitenames}[1]{\numdef\blx@maxcitenames{#1}}\makeatother
\newcounter{papercount}
\newcommand{\citefortable}[1]{%
  \stepcounter{papercount}{\thepapercount}&{\cite{#1}}&{\citeyear{#1}}&{\citeauthor{#1}}}
% layout
\geometry{margin=2cm}
\setlength{\parindent}{0pt}
\setlength{\parskip}{8pt}
\setlength{\skip\footins}{24pt}
\setlength{\footnotemargin}{0.8em}
\renewcommand{\floatpagefraction}{.8}
\renewcommand{\textfraction}{.2}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% math shorthands
\renewcommand{\Re}{\mathbb{R}}
\newcommand{\xxx}{\mathrm{x}_1,\mathrm{x}_2,\mathrm{x}_3}
\newcommand{\gm}{\textsc{gm}}
\newcommand{\wm}{\textsc{wm}}
\newcommand{\csf}{\textsc{csf}}
\newcommand{\wmh}{\textsc{wmh}}
\newcommand{\mrf}{\textsc{mrf}}
\newcommand{\lr}{\textsc{lr}}
\newcommand{\sk}{\textsc{k}}
\newcommand{\sn}{\textsc{n}}
\newcommand{\sr}{\textsc{r}}
\newcommand{\sv}{\textsc{v}}
\newcommand{\sx}{\textsc{x}}
\newcommand{\sy}{\textsc{y}}
\renewcommand{\d}{\partial}
\renewcommand{\b}{\beta}
\newcommand{\bb}{\bm{\beta}}
\newcommand{\by}{\bm{y}}
\renewcommand{\L}{\mathcal{L}}
\renewcommand{\P}{\mathcal{P}}
\newcommand{\N}{\mathcal{N}}
\newcommand{\J}{\mathcal{J}}
\newcommand{\Z}{\mathcal{Z}}
\newcommand{\Y}{\mathcal{Y}}
\newcommand{\C}{\mathcal{C}}
\newcommand{\X}{\mathcal{X}}
\newcommand{\bY}{\bm{\mathcal{Y}}}
\newcommand{\bC}{\bm{\mathcal{C}}}
\newcommand{\bV}{\bm{\mathcal{V}}}
\newcommand{\ep}{\circ}
\newcommand{\true}{\texttt{true}}
\newcommand{\false}{\texttt{false}}
\newcommand{\abs}[1]{\left|#1\right|}
\newcommand{\norm}[1]{\left|\left|#1\right|\right|}
\newcommand{\vox}[1]{\mathbb{#1}}
\newcommand{\et}{\thinspace}
\newcommand{\en}{\enspace}
% scanner stuff
\newcommand{\sname}[1]{%
  \IfStrEqCase{#1}{%
    {01}{WMH 2017 (1)}
    {02}{WMH 2017 (2)}
    {03}{WMH 2017 (3)}
    {04}{MS  2016 (1)}
    {05}{MS  2016 (2)}
    {06}{MS  2016 (3)}
    {07}{ISBI MS 2015}
    {08}{In-House}
    {09}{MS  2008 CHB}
    {10}{MS  2008 UNC}
    {11}{T1 e.g.}
    {12}{T2 e.g.}}
  []}
\newcommand{\sclr}[1]{%
  \IfStrEqCase{#1}{%
    {00}{\color[rgb]{1.00 1.00 1.00}}
    {01}{\color[rgb]{1.00 0.00 0.00}}
    {02}{\color[rgb]{1.00 0.50 0.00}}
    {03}{\color[rgb]{1.00 0.80 0.00}}
    {04}{\color[rgb]{0.02 0.80 0.00}}
    {05}{\color[rgb]{0.00 0.40 1.00}}
    {06}{\color[rgb]{0.60 0.00 1.00}}
    {07}{\color[rgb]{1.00 0.00 1.00}}
    {08}{\color[rgb]{1.00 0.50 0.50}}
    {09}{\color[rgb]{0.50 1.00 0.70}}
    {10}{\color[rgb]{0.50 0.70 1.00}}}
  []}
\definecolor{gry}{rgb}{0.50 0.50 0.50}
\definecolor{blue}{rgb}{0.00 0.30 1.00}
% little text items
\renewcommand{\_}{\char`_}
\renewcommand{\ss}[1]{\textsuperscript{#1}}
\newcommand{\hreftt}[1]{\href{#1}{\footnotesize{\texttt{\lstinline|#1|}}}}
\renewcommand\labelitemi{\raisebox{0.2em}{\fontsize{0.3em}{0}$\blacksquare$}}
\renewcommand\labelitemii{\raisebox{0.2em}{\fontsize{0.3em}{0}$\square$}}
\newcommand{\medfilt}[1]{\mathrm{Med}_{#1\times#1}}
\newcommand{\tablepost}[1]{\\[0.5em]\raggedright{\footnotesize{#1}}}
\newcommand{\subfigureoverl}[4][black]{%
  \begin{subfigure}{\textwidth}%
    \centering\setbox1=\hbox{#4}\leavevmode\rlap{\usebox1}%
    \rlap{\hspace*{0.5em}\raisebox{\dimexpr0.5em}{\color{#1}#2}}
    \phantom{\usebox1}\phantomsubcaption#3%
  \end{subfigure}}
% LaTeX penalties
\interfootnotelinepenalty=10000
\widowpenalty=500
\clubpenalty=500
% sizing
\newlength{\plotwidth}\setlength{\plotwidth}{0.48\textwidth}
\newlength{\sliceheight}\setlength{\sliceheight}{3.5cm}
\newlength{\fullheight}\setlength{\fullheight}{5cm}
\renewcommand*{\bibfont}{\footnotesize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
  \include{front}
	\include{contents}
  \include{ch-intro}
  \include{ch-pre}
  \include{ch-vlr}
  \include{ch-exp}
  \include{ch-conc}
	\begin{singlespace}
    \printbibliography%
  \end{singlespace}
  \appendix
  \include{ap-res}
  \include{ap-impl}
  \include{ap-code}
\end{document}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
